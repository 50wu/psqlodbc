\! "./src/param-conversions-test"
connected

Testing conversions...
Testing "SELECT 1 > ?" with SQL_C_CHAR -> SQL_INTEGER param "2"...
Result set:
0

Testing "SELECT 1 > ?" with SQL_C_CHAR -> SQL_INTEGER param "-2"...
Result set:
1

Testing "SELECT 1 > ?" with SQL_C_CHAR -> SQL_SMALLINT param "2"...
Result set:
0

Testing "SELECT 1 > ?" with SQL_C_CHAR -> SQL_SMALLINT param "-2"...
Result set:
1

Testing "SELECT 2.2 > ?" with SQL_C_CHAR -> SQL_FLOAT param "2.3"...
Result set:
0

Testing "SELECT 3.3 > ?" with SQL_C_CHAR -> SQL_DOUBLE param "3.01"...
Result set:
1

Testing "SELECT 1 > ?" with SQL_C_CHAR -> SQL_CHAR param "5 escapes: \ and '"...
SQLExecDirect failed
22P02=ERROR: invalid input syntax for integer: "5 escapes: \ and '";
Error while executing the query

Testing "SELECT 1 > ?" with SQL_C_CHAR -> SQL_SMALLINT param "32767"...
Result set:
0

Testing "SELECT 1 > ?" with SQL_C_CHAR -> SQL_SMALLINT param "-32768"...
Result set:
1


Testing conversions whose result depend on whether the
parameter is treated as a string or an integer...
Testing "SELECT '555' > ?" with SQL_C_CHAR -> SQL_INTEGER param "6"...
Result set:
1

Testing "SELECT '555' > ?" with SQL_C_CHAR -> SQL_SMALLINT param "6"...
Result set:
1

Testing "SELECT '555' > ?" with SQL_C_CHAR -> SQL_CHAR param "6"...
Result set:
0

Testing "SELECT 1 > ?" with SQL_C_CHAR -> SQL_INTEGER param "99999999999999999999999"...
SQLExecDirect failed
22003=ERROR: value "99999999999999999999999" is out of range for type integer;
Error while executing the query


Testing conversions with invalid values...
Testing "SELECT 2 > ?" with SQL_C_CHAR -> SQL_INTEGER param "2, 'injected, BAD!'"...
SQLExecDirect failed
22P02=ERROR: invalid input syntax for integer: "2, 'injected, BAD!'";
Error while executing the query

Testing "SELECT 2 > ?" with SQL_C_CHAR -> SQL_SMALLINT param "2, 'injected, BAD!'"...
SQLExecDirect failed
22P02=ERROR: invalid input syntax for integer: "2, 'injected, BAD!'";
Error while executing the query

Testing "SELECT 1.3 > ?" with SQL_C_CHAR -> SQL_FLOAT param "3', 'injected, BAD!', '1"...
SQLExecDirect failed
22P02=ERROR: invalid input syntax for type double precision: "3', 'injected, BAD!', '1";
Error while executing the query

Testing "SELECT 1.4 > ?" with SQL_C_CHAR -> SQL_FLOAT param "4 \'bad', '1"...
SQLExecDirect failed
22P02=ERROR: invalid input syntax for type double precision: "4 \'bad', '1";
Error while executing the query

Testing "SELECT 1-?" with SQL_C_CHAR -> SQL_INTEGER param "-1"...
Result set:
2

Testing "SELECT 1 > ?" with SQL_C_CHAR -> SQL_INTEGER param "-"...
SQLExecDirect failed
22P02=ERROR: invalid input syntax for integer: "-";
Error while executing the query

Testing "SELECT 1 > ?" with SQL_C_CHAR -> SQL_INTEGER param ""...
SQLExecDirect failed
22P02=ERROR: invalid input syntax for integer: "";
Error while executing the query

Testing "SELECT 1-?" with SQL_C_CHAR -> SQL_SMALLINT param "-1"...
Result set:
2

Testing "SELECT 1 > ?" with SQL_C_CHAR -> SQL_SMALLINT param "-"...
SQLExecDirect failed
22P02=ERROR: invalid input syntax for integer: "-";
Error while executing the query

Testing "SELECT 1 > ?" with SQL_C_CHAR -> SQL_SMALLINT param ""...
SQLExecDirect failed
22P02=ERROR: invalid input syntax for integer: "";
Error while executing the query

Testing "SELECT 0-?" with SQL_C_SLONG -> SQL_INTEGER param 1234...
Result set:
-1234

Testing "SELECT 0-?" with SQL_C_SLONG -> SQL_INTEGER param -1234...
Result set:
1234

Testing "SELECT 0-?" with SQL_C_SLONG -> SQL_SMALLINT param 1234...
Result set:
-1234

Testing "SELECT 0-?" with SQL_C_SLONG -> SQL_SMALLINT param -1234...
Result set:
1234

disconnecting
